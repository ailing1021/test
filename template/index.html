<!DOCTYPE html>
<html lang="zh-TW">
<head>
Â  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3023489511713645"
Â  Â  crossorigin="anonymous"></script>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1" />
Â  <title>ğŸ’° è¶…ç´šé‚„æ¬¾è©¦ç®—è¡¨ - å°ˆæ¥­ç‰ˆ</title>

Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js" crossorigin></script>
Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js" crossorigin></script>
Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.20.12/babel.min.js"></script>
Â  <script src="https://cdn.tailwindcss.com"></script>
Â  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

Â  <style>
Â  Â  /* Ensure html and body take full height */
Â  Â  html, body {
Â  Â  Â  height: 100%;
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 0;
Â  Â  }
Â  Â  /* Set min-height for the root React element to be full screen, and use flexbox */
Â  Â  #root {
Â  Â  Â  min-height: 100vh;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
Â  Â  Â  background-color: #f4f7fa;
Â  Â  }
Â  Â  /* Main content grows to push footer down */
Â  Â  .main-content {
Â  Â  Â  flex-grow: 1;
Â  Â  }
Â  Â  .modal {
Â  Â  Â  position: fixed;
Â  Â  Â  inset: 0;
Â  Â  Â  background: rgba(0,0,0,0.6);
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  Â  align-items: center;
Â  Â  Â  z-index: 1000;
Â  Â  }
Â  Â  .modal-content {
Â  Â  Â  background: white;
Â  Â  Â  padding: 24px;
Â  Â  Â  border-radius: 12px;
Â  Â  Â  width: 90%;
Â  Â  Â  max-width: 400px;
Â  Â  Â  box-shadow: 0 4px 20px rgba(0,0,0,0.15);
Â  Â  }
Â  Â  .container {
Â  Â  Â  background: white;
Â  Â  Â  border-radius: 12px;
Â  Â  Â  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
Â  Â  Â  padding: 24px;
Â  Â  Â  margin: 16px auto;
Â  Â  }
Â  Â  .btn {
Â  Â  Â  transition: all 0.2s ease-in-out;
Â  Â  Â  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
Â  Â  }
Â  Â  .btn:hover {
Â  Â  Â  transform: translateY(-1px);
Â  Â  Â  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
Â  Â  }
Â  Â  table {
Â  Â  Â  border-collapse: separate;
Â  Â  Â  border-spacing: 0;
Â  Â  }
Â  Â  th, td {
Â  Â  Â  border: 1px solid #e5e7eb;
Â  Â  }
Â  Â  /* Sticky header for tables */
Â  Â  .sticky-header {
Â  Â  Â  position: sticky;
Â  Â  Â  top: 0;
Â  Â  Â  background-color: #f9fafb;
Â  Â  Â  z-index: 10;
Â  Â  }
Â  Â  /* Footer styles */
Â  Â  footer {
Â  Â  Â  margin-top: auto;
Â  Â  Â  background: #ffffff;
Â  Â  Â  border-top: 1px solid #e5e7eb;
Â  Â  Â  padding: 16px 0;
Â  Â  Â  text-align: center;
Â  Â  Â  padding-bottom: 80px; /* Space for cookie banner */
Â  Â  }
Â  Â  /* Cookie banner adjustments */
Â  Â  #cookie-banner {
Â  Â  Â  z-index: 100; /* Below modal but above content */
Â  Â  }
Â  Â  /* Responsive adjustments */
Â  Â  @media (max-width: 640px) {
Â  Â  Â  footer {
Â  Â  Â  Â  padding-bottom: 100px; /* Extra space for cookie banner on mobile */
Â  Â  Â  }
Â  Â  Â  #cookie-banner {
Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  gap: 8px;
Â  Â  Â  }
Â  Â  }
Â  </style>

Â  <meta name="google-site-verification" content="BCvXzgcedvqCehBvT5sfZjBzHe56ld3ft6gNTqERsyE" />
Â  <script async src="https://www.googletagmanager.com/js?id=G-WGEGPPKK5D"></script>
Â  <script>
Â  Â  window.dataLayer = window.dataLayer || [];
Â  Â  function gtag() { dataLayer.push(arguments); }
Â  Â  gtag('js', new Date());
Â  Â  gtag('consent', 'default', {
Â  Â  Â  ad_storage: 'denied',
Â  Â  Â  analytics_storage: 'denied'
Â  Â  });
Â  Â  gtag('config', 'G-WGEGPPKK5D');
Â  </script>
</head>
<body>
Â  <div id="root"></div>
Â  <div id="cookie-banner" style="
Â  Â  position: fixed;
Â  Â  bottom: 0;
Â  Â  left: 0;
Â  Â  width: 100%;
Â  Â  background: #f8f8f8;
Â  Â  padding: 16px;
Â  Â  box-shadow: 0 -2px 6px rgba(0,0,0,0.15);
Â  Â  font-family: sans-serif;
Â  Â  font-size: 14px;
Â  Â  color: #333;
Â  Â  z-index: 100;
Â  Â  display: flex;
Â  Â  flex-wrap: wrap;
Â  Â  justify-content: center;
Â  Â  align-items: center;
Â  Â  gap: 10px;
Â  ">
Â  Â  <span style="flex: 1; min-width: 200px; text-align: center;">
Â  Â  Â  æˆ‘å€‘ä½¿ç”¨ Cookie æ”¹å–„ç¶²ç«™åŠŸèƒ½èˆ‡åˆ†ææµé‡ã€‚è«‹é¸æ“‡æ˜¯å¦æ¥å—ã€‚
Â  Â  </span>
Â  Â  <div>
Â  Â  Â  <button onclick="acceptCookies()" style="background: #007bff; color: white; border: none; padding: 8px 14px; border-radius: 4px; cursor: pointer;">
Â  Â  Â  Â  æ¥å—å…¨éƒ¨
Â  Â  Â  </button>
Â  Â  Â  <button onclick="declineCookies()" style="background: #ccc; color: #000; border: none; padding: 8px 14px; border-radius: 4px; cursor: pointer; margin-left: 8px;">
Â  Â  Â  Â  åƒ…ä½¿ç”¨å¿…è¦
Â  Â  Â  </button>
Â  Â  </div>
Â  </div>

Â  <script>
Â  Â  function acceptCookies() {
Â  Â  Â  localStorage.setItem('cookieConsent', 'accepted');
Â  Â  Â  if (typeof gtag === 'function') {
Â  Â  Â  Â  gtag('consent', 'update', {
Â  Â  Â  Â  Â  ad_storage: 'granted',
Â  Â  Â  Â  Â  analytics_storage: 'granted'
Â  Â  Â  Â  });
Â  Â  Â  }
Â  Â  Â  document.getElementById('cookie-banner').style.display = 'none';
Â  Â  }

Â  Â  function declineCookies() {
Â  Â  Â  localStorage.setItem('cookieConsent', 'declined');
Â  Â  Â  if (typeof gtag === 'function') {
Â  Â  Â  Â  gtag('consent', 'update', {
Â  Â  Â  Â  Â  ad_storage: 'denied',
Â  Â  Â  Â  Â  analytics_storage: 'denied'
Â  Â  Â  Â  });
Â  Â  Â  }
Â  Â  Â  document.getElementById('cookie-banner').style.display = 'none';
Â  Â  }

Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  if (localStorage.getItem('cookieConsent')) {
Â  Â  Â  Â  document.getElementById('cookie-banner').style.display = 'none';
Â  Â  Â  } else {
Â  Â  Â  Â  document.getElementById('cookie-banner').style.display = 'flex';
Â  Â  Â  }
Â  Â  });
Â  </script>

Â  <script type="text/javascript">
Â  Â  // Configure Babel for JSX transformation
Â  Â  // This ensures Babel is ready before React code runs
Â  Â  if (typeof Babel !== 'undefined') {
Â  Â  Â  console.log("Babel is loaded. Configuring presets...");
Â  Â  Â  Babel.transformScriptTags(); // This processes all script tags with type="text/babel"
Â  Â  } else {
Â  Â  Â  console.error("Babel is NOT loaded. React JSX will not work.");
Â  Â  }
Â  </script>

Â  Â  <script type="text/babel">
Â  Â  console.log("Attempting to run React code...");

Â  Â  // Error Boundary to catch rendering issues
Â  Â  class ErrorBoundary extends React.Component {
Â  Â  Â  state = { hasError: false };
Â  Â  Â  static getDerivedStateFromError(error) {
Â  Â  Â  Â  console.error("Error Boundary caught an error:", error);
Â  Â  Â  Â  return { hasError: true };
Â  Â  Â  }
Â  Â  Â  componentDidCatch(error, errorInfo) {
Â  Â  Â  Â  console.error("Error details:", error, errorInfo);
Â  Â  Â  }
Â  Â  Â  render() {
Â  Â  Â  Â  if (this.state.hasError) {
Â  Â  Â  Â  Â  return <h1 class="text-center text-red-600 p-8 text-xl">ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹é‡æ–°æ•´ç†é é¢æˆ–æª¢æŸ¥æ§åˆ¶å°ã€‚</h1>;
Â  Â  Â  Â  }
Â  Â  Â  Â  return this.props.children;
Â  Â  Â  }
Â  Â  }

Â  Â  function App() {
Â  Â  Â  Â  console.log("App component is rendering.");
Â  Â  Â  Â  const getInitialState = () => ({
Â  Â  Â  Â  Â  salary: 0,
Â  Â  Â  Â  Â  livingExpense: 0,
Â  Â  Â  Â  Â  startMonth: 1,
Â  Â  Â  Â  Â  repayList: [],
Â  Â  Â  Â  Â  courseList: [],
Â  Â  Â  Â  Â  calculationResult: '',
Â  Â  Â  Â  Â  modalType: null
Â  Â  Â  Â  });

Â  Â  Â  Â  const [state, setState] = React.useState(getInitialState);

Â  Â  Â  Â  React.useEffect(() => {
Â  Â  Â  Â  Â  console.log("App useEffect: fetching current state...");
Â  Â  Â  Â  Â  fetchCurrentState();
Â  Â  Â  Â  }, []);

Â  Â  Â  Â  const fetchCurrentState = async () => {
Â  Â  Â  Â  Â  console.log("Fetching current state from API...");
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const response = await fetch('/api/get_current_state');
Â  Â  Â  Â  Â  Â  if (response.ok) {
Â  Â  Â  Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  Â  Â  Â  console.log("Current state fetched:", data);
Â  Â  Â  Â  Â  Â  Â  setState(prev => ({
Â  Â  Â  Â  Â  Â  Â  Â  ...prev,
Â  Â  Â  Â  Â  Â  Â  Â  salary: data.salary || 0,
Â  Â  Â  Â  Â  Â  Â  Â  livingExpense: data.living_expense || 0,
Â  Â  Â  Â  Â  Â  Â  Â  startMonth: data.start_month || 1,
Â  Â  Â  Â  Â  Â  Â  Â  repayList: data.repay_list || [],
Â  Â  Â  Â  Â  Â  Â  Â  courseList: data.course_list || []
Â  Â  Â  Â  Â  Â  Â  }));
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  const errorData = await response.json().catch(() => ({ message: response.statusText }));
Â  Â  Â  Â  Â  Â  Â  console.error('Failed to fetch current state:', response.status, errorData.message);
Â  Â  Â  Â  Â  Â  Â  // alert(`ç„¡æ³•ç²å–æœ€æ–°ç‹€æ…‹ï¼Œè«‹æª¢æŸ¥ä¼ºæœå™¨æˆ–ç¶²è·¯é€£ç·šã€‚éŒ¯èª¤ï¼š${errorData.message}`); // æš«æ™‚è¨»é‡‹æ‰ï¼Œé¿å…å½ˆçª—é˜»ç¤™é™¤éŒ¯
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  console.error('Error fetching current state (network or server issue):', error);
Â  Â  Â  Â  Â  Â  // alert('ç²å–æœ€æ–°ç‹€æ…‹æ™‚ç™¼ç”Ÿç¶²è·¯éŒ¯èª¤æˆ–ä¼ºæœå™¨å•é¡Œã€‚'); // æš«æ™‚è¨»é‡‹æ‰ï¼Œé¿å…å½ˆçª—é˜»ç¤™é™¤éŒ¯
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const openModal = (type) => {
Â  Â  Â  Â  Â  setState(prev => ({ ...prev, modalType: type }));
Â  Â  Â  Â  };

Â  Â  Â  Â  const closeModal = () => {
Â  Â  Â  Â  Â  setState(prev => ({ ...prev, modalType: null }));
Â  Â  Â  Â  };

Â  Â  Â  Â  const addPerson = async (name, debt) => {
Â  Â  Â  Â  Â  if (!name.trim()) {
Â  Â  Â  Â  Â  Â  alert("å§“åä¸èƒ½ç‚ºç©º");
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  if (isNaN(parseFloat(debt)) || parseFloat(debt) <= 0) {
Â  Â  Â  Â  Â  Â  alert("æ¬ æ¬¾é‡‘é¡å¿…é ˆå¤§æ–¼0");
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  console.log("Adding person:", { name, debt });
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const response = await fetch('/api/add_person', {
Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({ name: name.trim(), debt: parseFloat(debt) })
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  Â  Â  if (response.ok && data.status === 'success') {
Â  Â  Â  Â  Â  Â  Â  await fetchCurrentState();
Â  Â  Â  Â  Â  Â  Â  return true;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  alert("æ–°å¢é‚„æ¬¾äººå¤±æ•—: " + (data.message || response.statusText));
Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  console.error('Error adding person:', error);
Â  Â  Â  Â  Â  Â  alert('æ–°å¢é‚„æ¬¾äººæ™‚ç™¼ç”Ÿç¶²è·¯éŒ¯èª¤æˆ–ä¼ºæœå™¨å•é¡Œã€‚');
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const addCourse = async (fee, months) => {
Â  Â  Â  Â  Â  if (isNaN(parseFloat(fee)) || parseFloat(fee) <= 0) {
Â  Â  Â  Â  Â  Â  alert("èª²ç¨‹ç¸½è²»ç”¨å¿…é ˆå¤§æ–¼0");
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  if (!Number.isInteger(parseInt(months)) || parseInt(months) <= 0) {
Â  Â  Â  Â  Â  Â  alert("èª²ç¨‹æœŸæ•¸å¿…é ˆæ˜¯å¤§æ–¼0çš„æ•´æ•¸");
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  console.log("Adding course:", { fee, months });
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const response = await fetch('/api/add_course', {
Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({ fee: parseFloat(fee), months: parseInt(months) })
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  Â  Â  if (response.ok && data.status === 'success') {
Â  Â  Â  Â  Â  Â  Â  await fetchCurrentState();
Â  Â  Â  Â  Â  Â  Â  return true;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  alert("æ–°å¢èª²ç¨‹å¤±æ•—: " + (data.message || response.statusText));
Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  console.error('Error adding course:', error);
Â  Â  Â  Â  Â  Â  alert('æ–°å¢èª²ç¨‹æ™‚ç™¼ç”Ÿç¶²è·¯éŒ¯èª¤æˆ–ä¼ºæœå™¨å•é¡Œã€‚');
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const setSalary = async (salary) => {
Â  Â  Â  Â  Â  if (isNaN(parseFloat(salary)) || parseFloat(salary) < 0) {
Â  Â  Â  Â  Â  Â  alert("è–ªæ°´å¿…é ˆæ˜¯éè² æ•¸");
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  console.log("Setting salary:", salary);
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const response = await fetch('/api/set_salary', {
Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({ salary: parseFloat(salary) })
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  Â  Â  if (response.ok && data.status === 'success') {
Â  Â  Â  Â  Â  Â  Â  await fetchCurrentState();
Â  Â  Â  Â  Â  Â  Â  return true;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  alert("è¨­å®šè–ªæ°´å¤±æ•—: " + (data.message || response.statusText));
Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  console.error('Error setting salary:', error);
Â  Â  Â  Â  Â  Â  alert('è¨­å®šè–ªæ°´æ™‚ç™¼ç”Ÿç¶²è·¯éŒ¯èª¤æˆ–ä¼ºæœå™¨å•é¡Œã€‚');
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const setLivingExpense = async (expense) => {
Â  Â  Â  Â  Â  if (isNaN(parseFloat(expense)) || parseFloat(expense) < 0) {
Â  Â  Â  Â  Â  Â  alert("ç”Ÿæ´»è²»å¿…é ˆæ˜¯éè² æ•¸");
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  console.log("Setting living expense:", expense);
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const response = await fetch('/api/set_living_expense', {
Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({ expense: parseFloat(expense) })
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  Â  Â  if (response.ok && data.status === 'success') {
Â  Â  Â  Â  Â  Â  Â  await fetchCurrentState();
Â  Â  Â  Â  Â  Â  Â  return true;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  alert("è¨­å®šç”Ÿæ´»è²»å¤±æ•—: " + (data.message || response.statusText));
Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  console.error('Error setting living expense:', error);
Â  Â  Â  Â  Â  Â  alert('è¨­å®šç”Ÿæ´»è²»æ™‚ç™¼ç”Ÿç¶²è·¯éŒ¯èª¤æˆ–ä¼ºæœå™¨å•é¡Œã€‚');
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const setStartMonth = async (month) => {
Â  Â  Â  Â  Â  const monthInt = parseInt(month);
Â  Â  Â  Â  Â  if (!Number.isInteger(monthInt) || monthInt < 1 || monthInt > 12) {
Â  Â  Â  Â  Â  Â  alert("èµ·å§‹æœˆä»½å¿…é ˆä»‹æ–¼1åˆ°12");
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  console.log("Setting start month:", monthInt);
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const response = await fetch('/api/set_start_month', {
Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({ start_month: monthInt })
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  Â  Â  if (response.ok && data.status === 'success') {
Â  Â  Â  Â  Â  Â  Â  await fetchCurrentState();
Â  Â  Â  Â  Â  Â  Â  return true;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  alert("è¨­å®šèµ·å§‹æœˆä»½å¤±æ•—: " + (data.message || response.statusText));
Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  console.error('Error setting start month:', error);
Â  Â  Â  Â  Â  Â  alert('è¨­å®šèµ·å§‹æœˆä»½æ™‚ç™¼ç”Ÿç¶²è·¯éŒ¯èª¤æˆ–ä¼ºæœå™¨å•é¡Œã€‚');
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const removePerson = (index) => {
Â  Â  Â  Â  Â  console.log("Removing person at index:", index);
Â  Â  Â  Â  Â  if (!confirm(`ç¢ºå®šè¦å¾å‰ç«¯åˆ—è¡¨ä¸­ç§»é™¤é‚„æ¬¾äººã€Œ${state.repayList[index].name}ã€å—ï¼Ÿ\n(æ³¨æ„ï¼šæ­¤æ“ä½œä¸æœƒåŒæ­¥æ¸…é™¤å¾Œç«¯æ•¸æ“šï¼Œå¦‚éœ€å¾¹åº•æ¸…é™¤è«‹ä½¿ç”¨ã€Œæ¸…ç©ºè³‡æ–™ã€)`)) return;
Â  Â  Â  Â  Â  const newList = [...state.repayList];
Â  Â  Â  Â  Â  newList.splice(index, 1);
Â  Â  Â  Â  Â  setState(prev => ({ ...prev, repayList: newList }));
Â  Â  Â  Â  };

Â  Â  Â  Â  const removeCourse = (index) => {
Â  Â  Â  Â  Â  console.log("Removing course at index:", index);
Â  Â  Â  Â  Â  if (!confirm(`ç¢ºå®šè¦å¾å‰ç«¯åˆ—è¡¨ä¸­ç§»é™¤èª²ç¨‹ #${index + 1} å—ï¼Ÿ\n(æ³¨æ„ï¼šæ­¤æ“ä½œä¸æœƒåŒæ­¥æ¸…é™¤å¾Œç«¯æ•¸æ“šï¼Œå¦‚éœ€å¾¹åº•æ¸…é™¤è«‹ä½¿ç”¨ã€Œæ¸…ç©ºè³‡æ–™ã€)`)) return;
Â  Â  Â  Â  Â  const newList = [...state.courseList];
Â  Â  Â  Â  Â  newList.splice(index, 1);
Â  Â  Â  Â  Â  setState(prev => ({ ...prev, courseList: newList }));
Â  Â  Â  Â  };

Â  Â  Â  Â  const calculate = async () => {
Â  Â  Â  Â  Â  console.log("Calculating repayment plan...");
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const response = await fetch('/api/calculate', {
Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({})
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  Â  Â  console.log('API response for calculate:', data);
Â  Â  Â  Â  Â  Â  if (response.ok && data.status === 'success') {
Â  Â  Â  Â  Â  Â  Â  setState(prev => ({ ...prev, calculationResult: data.result }));
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  alert("è¨ˆç®—å¤±æ•—: " + (data.message || response.statusText));
Â  Â  Â  Â  Â  Â  Â  setState(prev => ({ ...prev, calculationResult: `éŒ¯èª¤: ${data.message || response.statusText}` }));
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  console.error('Error during calculation:', error);
Â  Â  Â  Â  Â  Â  alert('è¨ˆç®—æ™‚ç™¼ç”Ÿç¶²è·¯éŒ¯èª¤æˆ–ä¼ºæœå™¨å•é¡Œã€‚');
Â  Â  Â  Â  Â  Â  setState(prev => ({ ...prev, calculationResult: `ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·šæˆ–ä¼ºæœå™¨ã€‚` }));
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const copyResult = async () => {
Â  Â  Â  Â  Â  console.log("Copying result...");
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  if (state.calculationResult) {
Â  Â  Â  Â  Â  Â  Â  await navigator.clipboard.writeText(state.calculationResult);
Â  Â  Â  Â  Â  Â  Â  alert('è©¦ç®—çµæœå·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼');
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  alert('æ²’æœ‰è©¦ç®—çµæœå¯ä¾›è¤‡è£½ã€‚');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  console.error('è¤‡è£½å¤±æ•—:', err);
Â  Â  Â  Â  Â  Â  alert('ç„¡æ³•è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼Œè«‹æ‰‹å‹•é¸å–æ–‡å­—è¤‡è£½ã€‚');
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const exportCsv = async () => {
Â  Â  Â  Â  Â  console.log("Exporting CSV...");
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const response = await fetch('/api/export_csv', {
Â  Â  Â  Â  Â  Â  Â  method: 'GET'
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  if (response.ok) {
Â  Â  Â  Â  Â  Â  Â  const contentDisposition = response.headers.get('Content-Disposition');
Â  Â  Â  Â  Â  Â  Â  let filename = 'repay_result.csv';
Â  Â  Â  Â  Â  Â  Â  if (contentDisposition && contentDisposition.includes('filename=')) {
Â  Â  Â  Â  Â  Â  Â  Â  filename = contentDisposition.split('filename=')[1].trim().replace(/"/g, '');
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  const blob = await response.blob();
Â  Â  Â  Â  Â  Â  Â  const url = window.URL.createObjectURL(blob);
Â  Â  Â  Â  Â  Â  Â  const a = document.createElement('a');
Â  Â  Â  Â  Â  Â  Â  a.href = url;
Â  Â  Â  Â  Â  Â  Â  a.download = filename;
Â  Â  Â  Â  Â  Â  Â  document.body.appendChild(a);
Â  Â  Â  Â  Â  Â  Â  a.click();
Â  Â  Â  Â  Â  Â  Â  a.remove();
Â  Â  Â  Â  Â  Â  Â  window.URL.revokeObjectURL(url);
Â  Â  Â  Â  Â  Â  Â  alert("CSV æª”æ¡ˆå·²æˆåŠŸä¸‹è¼‰ã€‚");
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  const errorData = await response.json().catch(() => ({ message: response.statusText }));
Â  Â  Â  Â  Â  Â  Â  alert("åŒ¯å‡ºCSVå¤±æ•—: " + (errorData.message || response.statusText));
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  console.error('Error exporting CSV:', error);
Â  Â  Â  Â  Â  Â  alert('åŒ¯å‡ºCSVæ™‚ç™¼ç”Ÿç¶²è·¯éŒ¯èª¤æˆ–ä¼ºæœå™¨å•é¡Œã€‚');
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const clearAll = async () => {
Â  Â  Â  Â  Â  console.log("Clearing all data...");
Â  Â  Â  Â  Â  if (!confirm('ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰è¨­å®šå’Œçµæœå—ï¼Ÿé€™å°‡é‡ç½®æ‰€æœ‰å¾Œç«¯æ•¸æ“šã€‚')) return;
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const response = await fetch('/api/reset', {
Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({})
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  Â  Â  if (response.ok && data.status === 'success') {
Â  Â  Â  Â  Â  Â  Â  await fetchCurrentState();
Â  Â  Â  Â  Â  Â  Â  setState(prev => ({ ...prev, calculationResult: '' }));
Â  Â  Â  Â  Â  Â  Â  alert(data.message);
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  alert("æ¸…ç©ºè³‡æ–™å¤±æ•—: " + (data.message || response.statusText));
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  console.error('Error clearing data:', error);
Â  Â  Â  Â  Â  Â  alert('æ¸…ç©ºè³‡æ–™æ™‚ç™¼ç”Ÿç¶²è·¯éŒ¯èª¤æˆ–ä¼ºæœå™¨å•é¡Œã€‚');
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const exitApp = () => {
Â  Â  Â  Â  Â  if (confirm('ç¢ºå®šé›¢é–‹ï¼Ÿ')) {
Â  Â  Â  Â  Â  Â  window.location.href = 'about:blank';
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const parseResultToTable = (result) => {
Â  Â  Â  Â  Â  if (!result || result.trim() === '') {
Â  Â  Â  Â  Â  Â  console.log('calculationResult is empty or invalid');
Â  Â  Â  Â  Â  Â  return { headers: [], rows: [] };
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const data = JSON.parse(result);
Â  Â  Â  Â  Â  Â  console.log('Parsed as JSON:', data);
Â  Â  Â  Â  Â  Â  return {
Â  Â  Â  Â  Â  Â  Â  headers: data.headers || [],
Â  Â  Â  Â  Â  Â  Â  rows: data.rows || []
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  } catch (jsonError) {
Â  Â  Â  Â  Â  Â  console.log('Not JSON, trying tab-separated:', jsonError);
Â  Â  Â  Â  Â  Â  const lines = result.trim().split('\n');
Â  Â  Â  Â  Â  Â  const headers = lines[0].split('\t').map(h => h.trim());
Â  Â  Â  Â  Â  Â  const rows = lines.slice(1).map(line => line.split('\t').map(cell => cell.trim()));
Â  Â  Â  Â  Â  Â  console.log('Parsed headers:', headers);
Â  Â  Â  Â  Â  Â  console.log('Parsed rows:', rows);
Â  Â  Â  Â  Â  Â  return { headers, rows };
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const prepareOverallDebtChartData = (repayList) => {
Â  Â  Â  Â  Â  const labels = repayList.map(person => person.name);
Â  Â  Â  Â  Â  const values = repayList.map(person => person.debt);
Â  Â  Â  Â  Â  return { labels, values };
Â  Â  Â  Â  };

Â  Â  Â  Â  React.useEffect(() => {
Â  Â  Â  Â  Â  console.log("Chart useEffect triggered.");
Â  Â  Â  Â  Â  const canvas = document.getElementById('overall-debt-chart');
Â  Â  Â  Â  Â  if (!canvas) {
Â  Â  Â  Â  Â  Â  console.warn("Chart canvas element not found.");
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  const existingChart = Chart.getChart(canvas);
Â  Â  Â  Â  Â  if (existingChart) {
Â  Â  Â  Â  Â  Â  existingChart.destroy();
Â  Â  Â  Â  Â  Â  console.log("Destroyed existing chart.");
Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  const { labels, values } = prepareOverallDebtChartData(state.repayList);

Â  Â  Â  Â  Â  if (values.length > 0 && values.some(val => val > 0)) {
Â  Â  Â  Â  Â  Â  console.log("Creating new chart with data:", { labels, values });
Â  Â  Â  Â  Â  Â  new Chart(canvas, {
Â  Â  Â  Â  Â  Â  Â  type: 'pie',
Â  Â  Â  Â  Â  Â  Â  data: {
Â  Â  Â  Â  Â  Â  Â  Â  labels: labels,
Â  Â  Â  Â  Â  Â  Â  Â  datasets: [{
Â  Â  Â  Â  Â  Â  Â  Â  Â  data: values,
Â  Â  Â  Â  Â  Â  Â  Â  Â  backgroundColor: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '#3b82f6',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '#10b981',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '#ef4444',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '#f59e0b',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '#8b5cf6',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '#06b6d4',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '#db2777',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '#6d28d9',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '#ca8a04',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '#4ade80'
Â  Â  Â  Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  Â  Â  Â  hoverOffset: 8
Â  Â  Â  Â  Â  Â  Â  Â  }]
Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  options: {
Â  Â  Â  Â  Â  Â  Â  Â  responsive: true,
Â  Â  Â  Â  Â  Â  Â  Â  maintainAspectRatio: false,
Â  Â  Â  Â  Â  Â  Â  Â  plugins: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  legend: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  position: 'right',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  labels: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  font: { size: 14 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  boxWidth: 20
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  title: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  display: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  text: 'ç¸½æ¬ æ¬¾åˆ†ä½ˆ',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  font: { size: 20, weight: 'bold' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  padding: { bottom: 20 }
Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  tooltip: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  callbacks: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  label: function(context) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let label = context.label || '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (label) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  label += ': ';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (context.parsed !== null) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  label += new Intl.NumberFormat('zh-TW', { style: 'currency', currency: 'TWD' }).format(context.parsed);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return label;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  console.log("No valid data for chart, skipping chart creation.");
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }, [state.repayList]);

Â  Â  Â  Â  const ModalContent = () => {
Â  Â  Â  Â  Â  if (!state.modalType) return null;
Â  Â  Â  Â  Â  let input1Ref = React.useRef(null);
Â  Â  Â  Â  Â  let input2Ref = React.useRef(null);

Â  Â  Â  Â  Â  const handleSubmit = async () => {
Â  Â  Â  Â  Â  Â  let success = false;
Â  Â  Â  Â  Â  Â  switch (state.modalType) {
Â  Â  Â  Â  Â  Â  Â  case 'addPerson':
Â  Â  Â  Â  Â  Â  Â  Â  success = await addPerson(input1Ref.current.value, input2Ref.current.value);
Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  case 'addCourse':
Â  Â  Â  Â  Â  Â  Â  Â  success = await addCourse(input1Ref.current.value, input2Ref.current.value);
Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  case 'setSalary':
Â  Â  Â  Â  Â  Â  Â  Â  success = await setSalary(input1Ref.current.value);
Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  case 'setLivingExpense':
Â  Â  Â  Â  Â  Â  Â  Â  success = await setLivingExpense(input1Ref.current.value);
Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  case 'setStartMonth':
Â  Â  Â  Â  Â  Â  Â  Â  success = await setStartMonth(input1Ref.current.value);
Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  default:
Â  Â  Â  Â  Â  Â  Â  Â  closeModal();
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  if (success) closeModal();
Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  let title = '', label1 = '', label2 = '', placeholder1 = '', placeholder2 = '', showInput2 = true, input1Type = 'text', input2Type = 'number';
Â  Â  Â  Â  Â  switch (state.modalType) {
Â  Â  Â  Â  Â  Â  case 'addPerson':
Â  Â  Â  Â  Â  Â  Â  title = 'ğŸ€ æ–°å¢é‚„æ¬¾äºº';
Â  Â  Â  Â  Â  Â  Â  label1 = 'å§“å';
Â  Â  Â  Â  Â  Â  Â  label2 = 'æ¬ æ¬¾é‡‘é¡ (å…ƒ)';
Â  Â  Â  Â  Â  Â  Â  placeholder1 = 'ä¾‹å¦‚ï¼šå°æ˜';
Â  Â  Â  Â  Â  Â  Â  placeholder2 = 'ä¾‹å¦‚ï¼š10000';
Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  case 'addCourse':
Â  Â  Â  Â  Â  Â  Â  title = 'ğŸ€ æ–°å¢èª²ç¨‹è²»ç”¨';
Â  Â  Â  Â  Â  Â  Â  label1 = 'èª²ç¨‹ç¸½è²»ç”¨ (å…ƒ)';
Â  Â  Â  Â  Â  Â  Â  label2 = 'æœŸæ•¸ï¼ˆæœˆï¼‰';
Â  Â  Â  Â  Â  Â  Â  placeholder1 = 'ä¾‹å¦‚ï¼š30000';
Â  Â  Â  Â  Â  Â  Â  placeholder2 = 'ä¾‹å¦‚ï¼š6';
Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  case 'setSalary':
Â  Â  Â  Â  Â  Â  Â  title = 'ğŸ’° è¨­å®šè–ªæ°´';
Â  Â  Â  Â  Â  Â  Â  label1 = 'è–ªæ°´ (å…ƒ)';
Â  Â  Â  Â  Â  Â  Â  placeholder1 = 'ä¾‹å¦‚ï¼š34000';
Â  Â  Â  Â  Â  Â  Â  showInput2 = false;
Â  Â  Â  Â  Â  Â  Â  input1Type = 'number';
Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  case 'setLivingExpense':
Â  Â  Â  Â  Â  Â  Â  title = 'ğŸ€ è¨­å®šç”Ÿæ´»è²»';
Â  Â  Â  Â  Â  Â  Â  label1 = 'ç”Ÿæ´»è²» (å…ƒ)';
Â  Â  Â  Â  Â  Â  Â  placeholder1 = 'ä¾‹å¦‚ï¼š5000';
Â  Â  Â  Â  Â  Â  Â  showInput2 = false;
Â  Â  Â  Â  Â  Â  Â  input1Type = 'number';
Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  case 'setStartMonth':
Â  Â  Â  Â  Â  Â  Â  title = 'ğŸ“… è¨­å®šèµ·å§‹æœˆä»½';
Â  Â  Â  Â  Â  Â  Â  label1 = 'èµ·å§‹æœˆä»½ (1~12)';
Â  Â  Â  Â  Â  Â  Â  placeholder1 = 'ä¾‹å¦‚ï¼š1';
Â  Â  Â  Â  Â  Â  Â  showInput2 = false;
Â  Â  Â  Â  Â  Â  Â  input1Type = 'number';
Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  default:
Â  Â  Â  Â  Â  Â  Â  return null;
Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  <div class="modal" onClick={closeModal}>
Â  Â  Â  Â  Â  Â  Â  <div class="modal-content" onClick={e => e.stopPropagation()}>
Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-2xl font-semibold mb-6 text-gray-800">{title}</h2>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mb-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block mb-2 text-sm font-medium text-gray-700">{label1}:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <input
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type={input1Type}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ref={input1Ref}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder={placeholder1}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  autoFocus
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  defaultValue={
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  state.modalType === 'setSalary' ? state.salary :
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  state.modalType === 'setLivingExpense' ? state.livingExpense :
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  state.modalType === 'setStartMonth' ? state.startMonth : ''
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  {showInput2 && (
Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="mb-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block mb-2 text-sm font-medium text-gray-700">{label2}:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type={input2Type}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ref={input2Ref}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder={placeholder2}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex justify-end space-x-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  <button
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class="btn bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-lg"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={closeModal}
Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å–æ¶ˆ
Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <button
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class="btn bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={handleSubmit}
Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ç¢ºå®š
Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  );
Â  Â  Â  Â  };

Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  <div class="main-content">
Â  Â  Â  Â  Â  Â  <div class="container max-w-4xl mx-auto">
Â  Â  Â  Â  Â  Â  Â  <h1 class="text-3xl font-bold mb-8 text-center text-gray-800">ğŸ’° è¶…ç´šé‚„æ¬¾è©¦ç®—è¡¨</h1>

Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4 mb-8">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700" onClick={() => openModal('setSalary')} title="è¨­å®šè–ªæ°´">
Â  Â  Â  Â  Â  Â  Â  Â  Â  è–ªæ°´ï¼š{state.salary.toLocaleString('zh-TW', {minimumFractionDigits: 0, maximumFractionDigits: 0})}
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700" onClick={() => openModal('setLivingExpense')} title="è¨­å®šç”Ÿæ´»è²»">
Â  Â  Â  Â  Â  Â  Â  Â  Â  ç”Ÿæ´»è²»ï¼š{state.livingExpense.toLocaleString('zh-TW', {minimumFractionDigits: 0, maximumFractionDigits: 0})}
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700" onClick={() => openModal('setStartMonth')} title="è¨­å®šèµ·å§‹æœˆä»½">
Â  Â  Â  Â  Â  Â  Â  Â  Â  èµ·å§‹æœˆï¼š{state.startMonth}
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700" onClick={() => openModal('addPerson')} title="æ–°å¢é‚„æ¬¾äºº">
Â  Â  Â  Â  Â  Â  Â  Â  Â  æ–°å¢é‚„æ¬¾äºº
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn bg-pink-600 text-white px-4 py-2 rounded-lg hover:bg-pink-700" onClick={() => openModal('addCourse')} title="æ–°å¢èª²ç¨‹è²»ç”¨">
Â  Â  Â  Â  Â  Â  Â  Â  Â  æ–°å¢èª²ç¨‹è²»ç”¨
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700" onClick={calculate} title="é–‹å§‹è¨ˆç®—">
Â  Â  Â  Â  Â  Â  Â  Â  Â  è¨ˆç®—è©¦ç®—
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600" onClick={copyResult} title="è¤‡è£½è©¦ç®—çµæœ">
Â  Â  Â  Â  Â  Â  Â  Â  Â  è¤‡è£½çµæœ
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700" onClick={exportCsv} title="åŒ¯å‡ºè©¦ç®—çµæœCSV">
Â  Â  Â  Â  Â  Â  Â  Â  Â  åŒ¯å‡ºCSV
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700" onClick={clearAll} title="æ¸…ç©ºæ‰€æœ‰è³‡æ–™">
Â  Â  Â  Â  Â  Â  Â  Â  Â  æ¸…ç©ºè³‡æ–™
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-800" onClick={exitApp} title="é›¢é–‹ç¶²é ">
Â  Â  Â  Â  Â  Â  Â  Â  Â  é›¢é–‹
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  <div class="mb-8 bg-white rounded-lg shadow-sm p-6">
Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-xl font-semibold mb-4 text-gray-800">é‚„æ¬¾äººåˆ—è¡¨</h2>
Â  Â  Â  Â  Â  Â  Â  Â  {state.repayList.length === 0 ? (
Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-gray-500">å°šç„¡é‚„æ¬¾äººï¼Œè«‹æ–°å¢ã€‚</p>
Â  Â  Â  Â  Â  Â  Â  Â  ) : (
Â  Â  Â  Â  Â  Â  Â  Â  Â  <>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="overflow-x-auto mb-6">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <table class="w-full text-sm text-left">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <thead class="bg-gray-50 sticky-header">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="p-3 font-semibold text-gray-700 border">å§“å</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="p-3 font-semibold text-gray-700 border">æ¬ æ¬¾é‡‘é¡ (å…ƒ)</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="p-3 font-semibold text-gray-700 border">æ“ä½œ</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {state.repayList.map((p, i) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr key={i} class="border-b hover:bg-gray-50">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="p-3 border">{p.name}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="p-3 border">{p.debt.toLocaleString('zh-TW', {minimumFractionDigits: 0, maximumFractionDigits: 0})}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="p-3 border">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class="text-red-600 hover:text-red-800 font-medium"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => removePerson(i)}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  åˆªé™¤
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="mt-6 p-4 border border-gray-200 rounded-lg bg-gray-50 flex justify-center items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style={{ height: '300px', width: '100%', maxWidth: '500px' }}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <canvas id="overall-debt-chart"></canvas>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </>
Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  <div class="mb-8 bg-white rounded-lg shadow-sm p-6">
Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-xl font-semibold mb-4 text-gray-800">èª²ç¨‹è²»ç”¨åˆ—è¡¨</h2>
Â  Â  Â  Â  Â  Â  Â  Â  {state.courseList.length === 0 ? (
Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-gray-500">å°šç„¡èª²ç¨‹è²»ç”¨ï¼Œè«‹æ–°å¢ã€‚</p>
Â  Â  Â  Â  Â  Â  Â  Â  ) : (
Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="overflow-x-auto">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <table class="w-full text-sm text-left">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <thead class="bg-gray-50 sticky-header">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="p-3 font-semibold text-gray-700 border">ç¸½è²»ç”¨ (å…ƒ)</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="p-3 font-semibold text-gray-700 border">æœŸæ•¸ (æœˆ)</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="p-3 font-semibold text-gray-700 border">æ“ä½œ</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {state.courseList.map((c, i) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr key={i} class="border-b hover:bg-gray-50">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="p-3 border">{c.fee.toFixed(2)}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="p-3 border">{c.months}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="p-3 border">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class="text-red-600 hover:text-red-800 font-medium"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => removeCourse(i)}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  åˆªé™¤
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  <div class="bg-white rounded-lg shadow-sm p-6 overflow-x-auto">
Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-xl font-semibold mb-4 text-gray-800">è©¦ç®—çµæœ</h2>
Â  Â  Â  Â  Â  Â  Â  Â  {state.calculationResult ? (
Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const { headers, rows } = parseResultToTable(state.calculationResult);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (headers.length === 0 && rows.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return <p class="text-gray-500">ç„¡æœ‰æ•ˆè©¦ç®—çµæœï¼Œè«‹æª¢æŸ¥è¼¸å…¥æ•¸æ“šæˆ–é‡æ–°è¨ˆç®—ã€‚</p>;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <table class="w-full text-sm text-left" aria-label="è©¦ç®—çµæœè¡¨æ ¼">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <thead class="bg-gray-50 sticky-header">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {headers.map((header, index) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th key={index} class="p-3 font-semibold text-gray-700 border min-w-[120px] whitespace-nowrap">
                                    {header}
                                </th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {rows.map((row, rowIndex) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr key={rowIndex} class="border-b hover:bg-gray-50">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {row.map((cell, cellIndex) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td key={cellIndex} class="p-3 border">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {cellIndex > 0 && headers[cellIndex].includes('(å…ƒ)')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ? parseFloat(cell).toLocaleString('zh-TW', {minimumFractionDigits: 0, maximumFractionDigits: 0})
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  : cell}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  Â  })()}
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  ) : (
Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-gray-500">é»æ“Šã€Œè¨ˆç®—è©¦ç®—ã€ä»¥æŸ¥çœ‹çµæœã€‚</p>
Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <footer class="text-gray-600 text-sm">
Â  Â  Â  Â  Â  Â  Â  <div class="container mx-auto px-4 flex flex-col sm:flex-row justify-center items-center gap-4">
Â  Â  Â  Â  Â  Â  Â  Â  <a href="/privacy-policy" target="_blank" rel="noopener noreferrer" class="hover:underline text-blue-600">éš±ç§æ¬Šæ”¿ç­–</a>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hidden sm:inline-block">|</span>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="/terms-of-service" target="_blank" rel="noopener noreferrer" class="hover:underline text-blue-600">æœå‹™æ¢æ¬¾</a>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hidden sm:inline-block">|</span>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="mailto:support@example.com" class="hover:underline text-blue-600">è¯çµ¡æˆ‘å€‘</a>
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  <p class="mt-2">&copy; 2025 è¶…ç´šé‚„æ¬¾è©¦ç®—è¡¨. All rights reserved.</p>
Â  Â  Â  Â  Â  Â  </footer>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  );
Â  Â  Â  }

Â  Â  console.log("Attempting to render React app...");
Â  Â  const rootElement = document.getElementById('root');
Â  Â  if (rootElement) {
Â  Â  Â  ReactDOM.createRoot(rootElement).render(
Â  Â  Â  Â  <ErrorBoundary>
Â  Â  Â  Â  Â  <App />
Â  Â  Â  Â  </ErrorBoundary>
Â  Â  Â  );
Â  Â  Â  console.log("ReactDOM.createRoot().render() called.");
Â  Â  } else {
Â  Â  Â  console.error("Error: Div with id 'root' not found! React app cannot mount.");
Â  Â  }
Â  </script>
</body>
</html>
